name: Install multiple python versions

on:
    push:
        branches: main

    pull_request: 
        branches: 
            - main
            - '!feature/*'    

jobs:
    build:
        runs-on: ubuntu-latest

        strategy:
            matrix:
                python_versions: [3.8, 3.9]
            fail-fast: false
            max-parallel: 1    

        steps:
          - name: Checkout the repository
            uses: actions/checkout@v4

          - name: Setup Python
            uses: actions/setup-python@v4
            with: 
                python-version: ${{ matrix.python_versions }}

          - name: Install Dependencies
            run: |
                python -m pip install --upgrade pip
                pip install pytest
                pip install pandas
          
          - name: Run tests-1
            run: |
                cd src
                python -m pytest addition.py      